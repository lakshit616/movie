  

<app-header></app-header>

<div class="main" id="main-section">

  <section class="home-container">
    <h2 class="variable-title">Trending Movies</h2>


    <div class="movie-grid">
      @for (movie of movies; track movie.id) {
        <div
       
          class="movie-card"
          (click)="selectMovie(movie.name)"
          
          [class.blurred]="selectedMovie() && selectedMovie()?.id !== movie.id"
        >
          <img [src]="movie.poster_url" alt="{{ movie.title }}"  />

          <h3>{{ movie.name }}</h3>
          <p class="genre-rating">{{ movie.genre }} | ⭐ {{ movie.director }}</p>
          <p class="desc">{{ movie.cast }}</p>
        </div>
      }
    </div>
<div class="pagination-controls">
  <button (click)="prevPage($event)"  [disabled]="this.movieService.currentPage()===1">Previous</button>
  <!-- <span>Page {{ currentPage() }} of {{ totalPages }}</span> -->
  <button (click)="nextPage($event)" [disabled]="this.movieService.currentPage() === this.movieService.totalPages()">Next</button>
</div>
    @if (selectedMovie()) {
      <div class="overlay" (click)="clearSelection()">
        <div class="modal-card" (click)="$event.stopPropagation()">
          <img [src]="selectedMovie()?.Poster" alt="Selected Movie Poster" />
          <div class="movie-details">
            <h2>{{ selectedMovie()?.Title }}</h2>
            <p>{{ selectedMovie()?.Genre }} | ⭐ {{ selectedMovie()?.imdbRating }}</p>
            <p>{{ selectedMovie()?.Plot }}</p>
            <p>Language - {{ selectedMovie()?.Language }}</p>
            <p>Runtime - {{ selectedMovie()?.Runtime }}</p>
            <p>Actors - {{selectedMovie()?.Actors}}</p>
            <p>Director - {{selectedMovie()?.Director}}</p>
            <p>Writer - {{selectedMovie()?.Writer }}</p>
           <button (click)="favourite($event)" [class.fav-active]="isFav">
  {{ isFav ? '★' : '☆' }} Favourite
</button>

          </div>
        </div>
      </div>
    }
  </section>
</div>



<!-- <app-contact>
  <div class="contact" id="contact-section"></div>
</app-contact> -->
