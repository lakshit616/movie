<app-header></app-header>
<section class="home-container">
    <h2 class="variable-title">Top Rated Movies</h2>

  <div class="movie-grid">
    @for (movie of movies; track movie.id) {
        <div
       
          class="movie-card"
          (click)="selectMovie(movie.name)"
          
          [class.blurred]="selectedMovie() && selectedMovie()?.id !== movie.id"
        >
          <img [src]="movie.poster_url" alt="{{ movie.title }}"  />

          <h3>{{ movie.name }}</h3>
          <p class="genre-rating">{{ movie.genre }} | ⭐ {{ movie.director }}</p>
          <p class="desc">{{ movie.cast }}</p>
        </div>
      }
  </div>

  @if (selectedMovie()) {
      <div class="overlay" (click)="clearSelection()">
        <div class="modal-card" (click)="$event.stopPropagation()">
          <img [src]="selectedMovie()?.Poster" alt="Selected Movie Poster" />
          <div class="movie-details">
            <h2>{{ selectedMovie()?.Title }}</h2>
            <p>{{ selectedMovie()?.Genre }} | ⭐ {{ selectedMovie()?.imDbRating }}</p>
            <p>{{ selectedMovie()?.Plot }}</p>
            <p>Language - {{ selectedMovie()?.Language }}</p>
            <p>Runtime - {{ selectedMovie()?.Runtime }}</p>
            <p>Actors - {{selectedMovie()?.Actors}}</p>
            <p>Director - {{selectedMovie()?.Director}}</p>
            <p>Writer - {{selectedMovie()?.Writer }}</p>
          </div>
        </div>
      </div>
    }
</section>